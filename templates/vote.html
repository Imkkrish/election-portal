{% extends "base.html" %}

{% block title %}Vote for {{ category_name }} - Election Portal{% endblock %}

{% block content %}
<div class="vote-container">
    <div class="vote-card">
        <div class="vote-header">
            <a href="{{ url_for('dashboard') }}" class="back-link">← Back to Dashboard</a>
            <h1>{{ category_name }}</h1>
            <p class="vote-instruction">Select one candidate and submit your vote.</p>
        </div>

        <form method="POST" class="vote-form">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            
            <div class="candidates-list">
                {% for candidate in candidates %}
                    <label class="candidate-option">
                        <input 
                            type="radio" 
                            name="candidate_id" 
                            value="{{ candidate['id'] }}" 
                            required
                        >
                        <div class="candidate-info">
                            <span class="candidate-name">{{ candidate['name'] }}</span>
                        </div>
                        <span class="radio-indicator"></span>
                    </label>
                {% endfor %}
            </div>

            <div class="vote-warning">
                <p>⚠️ <strong>Warning:</strong> Your vote is final and cannot be changed.</p>
            </div>

            <div class="vote-actions">
                <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Cancel</a>
                <button type="submit" class="btn btn-primary btn-vote">
                    Submit Vote
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
